import{i as Ne,x as j,r as _,d as F,I as P,p as K,n as de,m as ge,y as Ee,S as me,C as L,w as xe,z as Me,l as Ie,D as O,A as J,H as Q}from"./common-H5yCEHFv.js";/* empty css              */import{f as Pe,c as De,r as B,a as Ae,g as ne,s as He,b as z,h as ye}from"./commonJquery-MnrG6CLp.js";import"./bootstrap-select-YADn3ZzG.js";import"./jquery.tablesorter.combined-Xz3lnmom.js";import{i as Ge}from"./items-QxHqxA7B.js";/*! lozad.js - v1.16.0 - 2020-09-06
* https://github.com/ApoorvSaxena/lozad.js
* Copyright (c) 2020 Apoorv Saxena; Licensed MIT */const Le=typeof document<"u"&&document.documentMode,Re={rootMargin:"0px",threshold:0,load(e){if(e.nodeName.toLowerCase()==="picture"){let S=e.querySelector("img"),N=!1;S===null&&(S=document.createElement("img"),N=!0),Le&&e.getAttribute("data-iesrc")&&(S.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(S.alt=e.getAttribute("data-alt")),N&&e.append(S)}if(e.nodeName.toLowerCase()==="video"&&!e.getAttribute("data-src")&&e.children){const S=e.children;let N;for(let x=0;x<=S.length-1;x++)N=S[x].getAttribute("data-src"),N&&(S[x].src=N);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));let D=",";if(e.getAttribute("data-background-delimiter")&&(D=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage=`url('${e.getAttribute("data-background-image").split(D).join("'),url('")}')`;else if(e.getAttribute("data-background-image-set")){const S=e.getAttribute("data-background-image-set").split(D);let N=S[0].substr(0,S[0].indexOf(" "))||S[0];N=N.indexOf("url(")===-1?`url(${N})`:N,S.length===1?e.style.backgroundImage=N:e.setAttribute("style",(e.getAttribute("style")||"")+`background-image: ${N}; background-image: -webkit-image-set(${S}); background-image: image-set(${S})`)}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded(){}};function ie(e){e.setAttribute("data-loaded",!0)}function Ue(e){e.getAttribute("data-placeholder-background")&&(e.style.background=e.getAttribute("data-placeholder-background"))}const se=e=>e.getAttribute("data-loaded")==="true",Oe=(e,D)=>(S,N)=>{S.forEach(x=>{(x.intersectionRatio>0||x.isIntersecting)&&(N.unobserve(x.target),se(x.target)||(e(x.target),ie(x.target),D(x.target)))})},fe=(e,D=document)=>e instanceof Element?[e]:e instanceof NodeList?e:D.querySelectorAll(e);function je(e=".lozad",D={}){const{root:S,rootMargin:N,threshold:x,load:W,loaded:V}=Object.assign({},Re,D);let R;typeof window<"u"&&window.IntersectionObserver&&(R=new IntersectionObserver(Oe(W,V),{root:S,rootMargin:N,threshold:x}));const X=fe(e,S);for(let M=0;M<X.length;M++)Ue(X[M]);return{observe(){const M=fe(e,S);for(let A=0;A<M.length;A++)if(!se(M[A])){if(R){R.observe(M[A]);continue}W(M[A]),ie(M[A]),V(M[A])}},triggerLoad(M){se(M)||(W(M),ie(M),V(M))},observer:R}}const Be=Pe.noConflict();Be(function(e){const D=new Map([["category0b10","0b10"],["categoryAlien","Alien"],["categoryArchitects","Architects"],["categoryDerelict","Derelict"],["categoryExile","Exile"],["categoryGolem","Golem"],["categoryHeroes","Heroes"],["categoryLab","Lab"],["categoryQuarantine","Quarantine"],["categoryS7Guarded","S7 Guarded"],["categoryS7Lrc","S7 LRC Lab"],["categoryS7Hangar","S7 Hangar"],["categoryS7Unguarded","S7 Unguarded"],["categorySpoiler","Spoiler"],["categoryRedacted","Redacted"],["categoryTesting","Testing"],["categoryUnobtainable","Unobtainable"],["categoryWarlord","Warlord"],["categoryZion","Zion"],["categoryZionite","Zionite"]]),S={},N={},x={},W=["categoryAlien","categoryGolem","categoryHeroes","categoryQuarantine","categorySpoiler","categoryTesting","categoryWarlord","categoryZion","categoryZionite"],V=["categoryArchitects","categoryLab","categoryRedacted","categoryS7Guarded","categoryS7Hangar","categoryS7Lrc","categoryS7Unguarded"],R={slotOther:"N/A",slotPower:"Power",slotPropulsion:"Propulsion",slotUtility:"Utility",slotWeapon:"Weapon"},X={terminalLevel1:1,terminalLevel2:2,terminalLevel3:3},M={powerTypeEngine:"Engine",powerTypePowerCore:"Power Core",powerTypeReactor:"Reactor",propTypeFlight:"Flight Unit",propTypeHover:"Hover Unit",propTypeLeg:"Leg",propTypeTread:"Treads",propTypeWheel:"Wheel",utilTypeArtifact:"Artifact",utilTypeDevice:"Device",utilTypeHackware:"Hackware",utilTypeProcessor:"Processor",utilTypeProtection:"Protection",utilTypeStorage:"Storage",weaponTypeBallisticCannon:"Ballistic Cannon",weaponTypeBallisticGun:"Ballistic Gun",weaponTypeEnergyCannon:"Energy Cannon",weaponTypeEnergyGun:"Energy Gun",weaponTypeImpactWeapon:"Impact Weapon",weaponTypeLauncher:"Launcher",weaponTypePiercingWeapon:"Piercing Weapon",weaponTypeSlashingWeapon:"Slashing Weapon",weaponTypeSpecialMeleeWeapon:"Special Melee Weapon",weaponTypeSpecialWeapon:"Special Weapon"},A={slotPower:"powerTypeContainer",slotPropulsion:"propTypeContainer",slotUtility:"utilTypeContainer",slotWeapon:"weaponTypeContainer"};function q(a,s){const r=typeof a=="string"?a:"",d=typeof s=="string"?s:"";return r.localeCompare(d)}function ce(a,s){function r(l){if(typeof l!="string")return"";let u=/(\d+)% (\w*)/.exec(l);return u===null?(u=/(\d+)/.exec(l),u===null?"":"Destroy"+parseInt(u[1]).toLocaleString("en-us",{minimumIntegerDigits:3,useGrouping:!1})):u[2]+parseInt(u[1]).toLocaleString("en-US",{minimumIntegerDigits:3,useGrouping:!1})}const d=r(a),p=r(s);return d.localeCompare(p)}function Y(a,s){function r(l){if(typeof l!="string"||l==="")return 0;const u=l.split("-").map(g=>g.trim()).map(g=>parseInt(g));return u.reduce((g,v)=>g+v,0)/u.length}const d=r(a),p=r(s);return d-p}function $(a,s){function r(l){if(l===void 0)return 0;const u=l.toLowerCase();return u.startsWith("minimal")?5:u.startsWith("low")?25:u.startsWith("medium")?37:u.startsWith("high")?50:u.startsWith("massive")?80:u.startsWith("deadly")?100:0}const d=r(a),p=r(s);return d-p}function f(a,s){let r=parseInt(a),d=parseInt(s);return isNaN(r)&&(r=0),isNaN(d)&&(d=0),r-d}function ee(a,s){function r(l){if(l===void 0)return 0;const u=l.toLowerCase();return u.startsWith("wide")?10:u.startsWith("intermediate")?30:u.startsWith("narrow")?50:u.startsWith("fine")?100:0}const d=r(a),p=r(s);return d-p}const he={"N/A":{Overview:[{name:"Name"},{name:"Type"},{name:"Rating",propertyName:"ratingString"},{name:"Size"},{name:"Integrity"},{name:"Life"},{name:"Special Trait",propertyName:"specialTrait"}],Effect:[{name:"Effect"},{name:"Description"}]},Power:{Overview:[{name:"Name",sorter:q},{name:"Type"},{name:"Rating",propertyName:"ratingString"},{name:"Size"},{name:"Mass"},{name:"Integrity"},{name:"Coverage"},{name:"Heat",propertyName:"heatGeneration"},{name:"Special Trait",propertyName:"specialTrait"}],Power:[{name:"Rate",propertyName:"energyGeneration"},{name:"Storage",propertyName:"energyStorage"},{name:"Stability",propertyName:"powerStability"}],Fabrication:[{name:"Matter",propertyNames:["fabrication","matter"]},{name:"Count",propertyNames:["fabrication","number"]},{name:"Time",propertyNames:["fabrication","time"]}]},Propulsion:{Overview:[{name:"Name",sorter:q},{name:"Type"},{name:"Rating",propertyName:"ratingString"},{name:"Size"},{name:"Integrity"},{name:"Coverage"},{name:"Special Trait",propertyName:"specialTrait"}],Upkeep:[{name:"Energy",propertyName:"energyUpkeep"},{name:"Heat",propertyName:"heatGeneration"}],Propulsion:[{name:"Time/Move",propertyName:"timePerMove"},{name:"Mod/Extra",propertyName:"modPerExtra"},{name:"drag"},{name:"Energy",propertyName:"energyPerMove"},{name:"Heat",propertyName:"heatPerMove"},{name:"Support"},{name:"Penalty"},{name:"Burnout"},{name:"Siege"}],Fabrication:[{name:"Matter",propertyNames:["fabrication","matter"]},{name:"Count",propertyNames:["fabrication","number"]},{name:"Time",propertyNames:["fabrication","time"]}]},Utility:{Overview:[{name:"Name",sorter:q},{name:"Type"},{name:"Rating",propertyName:"ratingString"},{name:"Size"},{name:"Mass"},{name:"Integrity"},{name:"Coverage"},{name:"Special Trait",propertyName:"specialTrait"}],Upkeep:[{name:"Energy",propertyName:"energyUpkeep"},{name:"Matter",propertyName:"matterUpkeep"},{name:"Heat",propertyName:"heatGeneration"}],Fabrication:[{name:"Matter",propertyNames:["fabrication","matter"]},{name:"Count",propertyNames:["fabrication","number"]},{name:"Time",propertyNames:["fabrication","time"]}],Effect:[{name:"Effect"},{name:"Description"}]},Weapon:{Overview:[{name:"Name",sorter:q},{name:"Type"},{name:"Rating",propertyName:"ratingString"},{name:"Size"},{name:"Mass"},{name:"Integrity"},{name:"Coverage"},{name:"Special Trait",propertyName:"specialTrait"}],Shot:[{name:"Range"},{name:"Energy",propertyName:"shotEnergy"},{name:"Matter",propertyName:"shotMatter"},{name:"Heat",propertyName:"shotHeat"},{name:"Recoil"},{name:"Targeting"},{name:"Delay"},{name:"Stability",propertyName:"overloadStability"},{name:"Waypoints"}],Projectile:[{name:"Arc"},{name:"Count",propertyName:"projectileCount"},{name:"Damage",sorter:Y},{name:"Type",propertyName:"damageType"},{name:"Critical",propertyName:"criticalString",sorter:ce},{name:"Penetration"},{name:"Heat Transfer",propertyName:"heatTransfer",sorter:$},{name:"Spectrum",sorter:ee},{name:"Disruption"},{name:"Salvage"}],Explosion:[{name:"Radius",propertyName:"explosionRadius"},{name:"Damage",propertyName:"explosionDamage",sorter:Y},{name:"Falloff",propertyName:"falloff"},{name:"Type",propertyName:"explosionType"},{name:"Heat Transfer",propertyName:"explosionHeatTransfer",sorter:$},{name:"Spectrum",propertyName:"explosionSpectrum",sorter:ee},{name:"Disruption",propertyName:"explosionDisruption"},{name:"Salvage",propertyName:"explosionSalvage"}],Fabrication:[{name:"Matter",propertyNames:["fabrication","matter"]},{name:"Count",propertyNames:["fabrication","number"]},{name:"Time",propertyNames:["fabrication","time"]}],Effect:[{name:"Effect"},{name:"Description"}]}};e(()=>ke());function ve(a,s){const r=`<pre class="comparison-neutral">
    
</pre>`;function d(o,n){return o===n?r:o<n?`<pre class="comparison-neutral">(+${n-o})</pre>`:`<pre class="comparison-neutral">(-${o-n})</pre>`}function p(o,n){return o===n?r:o<n?`<pre class="comparison-negative">+${n-o}</pre>`:`<pre class="comparison-positive">-${o-n}</pre>`}function l(o,n){return o===n?r:o<n?`<pre class="comparison-positive">+${n-o}</pre>`:`<pre class="comparison-negative">-${o-n}</pre>`}function u(o,n){const c=Math.ceil(o.rating),t=Math.ceil(n.rating);if(c===t)return r;if(c<t){let i;return o.ratingString.includes("*")||n.ratingString.includes("*")?i="* +"+(t-c):i="+"+(t-c),`<pre class="comparison-positive">${i}</pre>`}else{let i;return o.ratingString.includes("*")||n.ratingString.includes("*")?i="* -"+(c-t):i="-"+(c-t),`<pre class="comparison-negative">${i}</pre>`}}let g=`
            <div class="part-art-image-container"></div>
            <pre class="comparison-neutral popover-part-image-title mt-2">
    
</pre>
            <pre class="popover-summary">Comparison</pre>
            ${r}
            ${r}
            ${r}
            ${p(a.mass??0,s.mass??0)}
            ${u(a,s)}
            ${l(a.integrity,s.integrity)}
            ${l(a.coverage??0,s.coverage??0)}
            ${r}
            ${r}
            ${r}
        `;if((a.slot==="Power"||a.slot==="Propulsion"||a.slot==="Utility")&&(s.slot==="Power"||s.slot==="Propulsion"||s.slot==="Utility")){const o=a,n=s;g+=`
                ${r}
                ${p(o.energyUpkeep??0,n.energyUpkeep??0)}
                ${p(o.matterUpkeep??0,n.matterUpkeep??0)}
                ${p(o.heatGeneration??0,n.heatGeneration??0)}
                ${r}
            `}if(a.slot==="Power"&&s.slot==="Power"){const o=a,n=s;g+=`
                ${r}
                ${l(o.energyGeneration??0,n.energyGeneration??0)}
                ${l(o.energyStorage??0,n.energyStorage??0)}
                ${l(o.powerStability??100,n.powerStability??100)}
            `}if(a.slot==="Propulsion"&&s.slot==="Propulsion"){let o=function(i,m){return i.modPerExtra!==void 0&&m.modPerExtra!==void 0?p(i.modPerExtra,m.modPerExtra):i.drag!==void 0&&m.drag!==void 0?p(i.drag,m.drag):r},n=function(i,m){return i.burnout!==void 0||m.burnout!==void 0?p(K(i.burnout,0),K(m.burnout,0)):i.type===P.Treads&&m.type===P.Treads?i.siege===m.siege?r:i.siege===me.High?'<pre class="comparison-negative">High</pre>':i.siege===me.Standard&&m.siege===void 0?'<pre class="comparison-negative">Standard</pre>':i.siege===void 0?'<pre class="comparison-positive">N/A</pre>':'<pre class="comparison-positive">Standard</pre>':r};const c=a,t=s;g+=`
                ${r}
                ${p(c.timePerMove,t.timePerMove)}
                ${o(c,t)}
                ${p(c.energyPerMove??0,t.energyPerMove??0)}
                ${p(c.heatPerMove??0,t.heatPerMove??0)}
                ${l(c.support,t.support)}
                ${p(c.penalty,t.penalty)}
                ${n(c,t)}
            `}function v(o,n){if(o.critical===void 0||n.critical===void 0||o.criticalType===n.criticalType)return l(o.critical??0,n.critical??0);let c;switch(o.criticalType){case L.Blast:c="(Blast)";break;case L.Burn:c="(Burn)";break;case L.Corrupt:c="(Corrup)";break;case L.Destroy:c="(Destro)";break;case L.Detonate:c="(Detona)";break;case L.Impale:c="(Impale)";break;case L.Intensify:c="(Intens)";break;case L.Meltdown:c="(Meltdo)";break;case L.Phase:c="(Phase)";break;case L.Sever:c="(Sever)";break;case L.Smash:c="(Smash)";break;case L.Sunder:c="(Sunder)";break;default:throw"Invalid critical type"}return`<pre class="comparison-neutral">${c}</pre>`}function w(o,n,c){function t(T){let G=0,U=0;if(T!=null&&T.includes("-")){const Z=T.split("-");G=parseInt(Z[0]),U=parseInt(Z[1])}else T!==void 0&&(G=parseInt(T),U=G);return{average:(U+G)/2,min:G,max:U}}let i,m;c?(i=o.explosionDamage,m=n.explosionDamage):(i=o.damage,m=n.damage);const h=t(i),C=t(m);if(h.average===C.average)return h.min===C.min?r:`<pre class="comparison-neutral">${h.min}-${h.max}</pre>`;function k(T){return T>0?"+"+T:T.toString()}const b=C.min-h.min,H=C.max-h.max;return h.average<C.average?`<pre class="comparison-positive">${k(b)}/${k(H)}</pre>`:`<pre class="comparison-negative">${k(b)}/${k(H)}</pre>`}function y(o,n,c){if(c){if(o.explosionType===n.explosionType||o.explosionType===void 0)return r}else if(o.damageType===n.damageType||o.damageType===void 0)return r;function t(i){switch(i){case O.Electromagnetic:return"EM";case O.Entropic:return"EN";case O.Explosive:return"EX";case O.Impact:return"I";case O.Kinetic:return"KI";case O.Phasic:return"PH";case O.Piercing:return"P";case O.Slashing:return"S";case O.Thermal:return"TH"}return""}return`<pre class="comparison-neutral">(${t(c?o.explosionType:o.damageType)})</pre>`}if(a.slot==="Weapon"&&s.slot==="Weapon"){let o=function(m){return m.type===P.SlashingWeapon||m.type===P.ImpactWeapon||m.type===P.PiercingWeapon||m.type===P.SpecialMeleeWeapon},n=function(m){return m.type===P.BallisticGun||m.type===P.EnergyGun||m.type===P.BallisticCannon||m.type===P.EnergyCannon||m.type===P.SpecialWeapon},c=function(m){return n(m)||m.type===P.Launcher};const t=a,i=s;if(o(t)&&o(i))g+=`
                ${r}
                    ${p(t.shotEnergy??0,i.shotEnergy??0)}
                    ${p(t.shotMatter??0,i.shotMatter??0)}
                    ${p(t.shotHeat??0,i.shotHeat??0)}
                    ${l(t.targeting??0,i.targeting??0)}
                    ${p(t.delay??0,i.delay??0)}
                    ${r}
                `,t.damage!==void 0&&i.damage!==void 0&&(g+=`
                        ${r}
                        ${w(t,i,!1)}
                        ${y(t,i,!1)}
                        ${v(t,i)}
                        ${l(t.disruption??0,i.disruption??0)}
                        ${l(t.salvage??0,i.salvage??0)}
                        ${r}
                    `);else if(c(t)&&c(i)){let m=function(k,b){return b.waypoints!==void 0?l(K(k.waypoints,0),parseInt(b.waypoints)):p(k.arc??0,b.arc??0)},h=function(k,b){if(k.penetration==="Unlimited")return b.penetration==="Unlimited"?r:'<pre class="comparison-negative">-Inf.</pre>';if(b.penetration==="Unlimited")return'<pre class="comparison-positive">+Inf.</pre>';function H(U){return U===void 0?0:U.split("/").length}const T=H(k.penetration),G=H(b.penetration);return l(T,G)},C=function(k,b,H){function T(I){return I===J.Fine?100:I===J.Narrow?50:I===J.Intermediate?30:I===J.Wide?10:0}function G(I){return I===Q.Minimal?5:I===Q.Low?25:I===Q.Medium?37:I===Q.High?50:I===Q.Massive?80:0}const U=G(H?b.explosionHeatTransfer:b.heatTransfer);let Z;if(U!=0){const I=G(H?k.explosionHeatTransfer:k.heatTransfer);Z=d(I,U)}else{const I=T(H?k.explosionSpectrum:k.spectrum),Te=T(H?b.explosionSpectrum:b.spectrum);Z=d(I,Te)}return Z};g+=`
                    ${r}
                    ${l(t.range??0,i.range??0)}
                    ${p(t.shotEnergy??0,i.shotEnergy??0)}
                    ${p(t.shotMatter??0,i.shotMatter??0)}
                    ${p(t.shotHeat??0,i.shotHeat??0)}
                    ${p(t.recoil??0,i.recoil??0)}
                    ${l(t.targeting??0,i.targeting??0)}
                    ${p(t.delay??0,i.delay??0)}
                    ${l(t.overloadStability??100,i.overloadStability??100)}
                    ${m(t,i)}
                    ${r}
                `,n(t)&&n(i)&&t.damage!==void 0&&i.damage!==void 0?g+=`
                        ${l(t.projectileCount,i.projectileCount)}
                        ${w(t,i,!1)}
                        ${y(t,i,!1)}
                        ${v(t,i)}
                        ${h(t,i)}
                        ${C(t,i,!1)}
                        ${l(t.disruption??0,i.disruption??0)}
                        ${l(t.salvage??0,i.salvage??0)}
                        ${r}
                    `:t.type===P.Launcher&&i.type===P.Launcher&&(g+=`
                        ${l(t.projectileCount,i.projectileCount)}
                        ${l(t.explosionRadius??0,i.explosionRadius??0)}
                        ${w(t,i,!0)}
                        ${p(K(t.falloff,0),K(i.falloff,0))}
                        ${y(t,i,!0)}
                        ${C(t,i,!0)}
                        ${l(t.explosionDisruption??0,i.explosionDisruption??0)}
                        ${l(K(t.explosionSalvage,0),K(i.explosionSalvage,0))}                        ${r}
                    `)}}return g}function be(){e('#simpleItemsGrid > [data-toggle="popover"]').popover("dispose"),e("#simpleItemsGrid").empty();const a=Object.keys(F),s=e("#simpleItemsGrid");a.forEach(d=>{const p=F[d],l=de(d),u=e(`<button
                    id="${l}"
                    class="item btn"
                    type="button"
                    data-toggle="popover">
                    ${d}
                 </button>`);u.on("click",()=>{u.data("html")===void 0&&(e('[data-toggle="popover"]').popover("hide"),u.data("html",!0),u.data("content",_(p)),u.popover({sanitize:!1}),u.trigger("click"))}),N[d]=u,s.append(u[0])}),a.sort(ge);const r=[e("#leftPartSelect"),e("#rightPartSelect")];r.forEach(d=>{d.empty(),a.forEach(p=>{d.append(`<option>${p}</option>`)}),ye(d)}),r[0].selectpicker("val","Lgt. Assault Rifle"),r[1].selectpicker("val","Hvy. Assault Rifle")}function Se(){function a(d){return`<img class="lozad" data-src="${xe(Me(d))}"/>`}e('#galleryGrid > [data-toggle="popover"]').popover("dispose"),e("#galleryGrid").empty();const s=e("#galleryGrid");Object.keys(F).forEach(d=>{const p=F[d],l=de(d),u=e(`<button
                    id=${l}
                    class="gallery-item btn btn-no-background-hover"
                    type="button"
                    data-toggle="popover">
                    <span>${d}</span>
                    ${a(p)}
                </button>`);u.find("*").addBack().on("click",()=>{u.data("html")===void 0&&(e('[data-toggle="popover"]').popover("hide"),u.data("html",!0),u.data("content",_(p)),u.popover({sanitize:!1}),u.trigger("toggle"))}),S[d]=u,s.append(u[0])})}function te(){if(re()!=="Spreadsheet")return;const a=e("#spreadsheetItemsTable");a.trigger("destroy"),a.empty();const s=z(e("#slotsContainer"));if(!(s in R))return;const r=R[s],d=he[r],p=e("<thead></thead>"),l=e("<tr></tr>");p.append(l[0]),a.append(p[0]),Object.keys(d).forEach(n=>{l.append(`<th colspan=${d[n].length}>${n}</th>`)});const u=e("<tr></tr>");p.append(u[0]),Object.keys(d).forEach(n=>{d[n].forEach(c=>{u.append(`<th>${c.name}</th>`)})});const g=e("<tbody></tbody>");a.append(g[0]),Object.keys(F).forEach(n=>{const c=F[n],t=e("<tr></tr>");c.slot===r&&(Object.keys(d).forEach(i=>{d[i].forEach(h=>{let C;if(h.propertyName!==void 0)C=c[h.propertyName];else if(h.propertyNames!==void 0){C=c[h.propertyNames[0]];for(let b=1;b<h.propertyNames.length;b++)C!==void 0&&(C=C[h.propertyNames[b]])}else C=c[h.name.toLowerCase()];const k=C===void 0?"":C.toString();t.append(`<td>${k}</td>`)})}),x[n]=t,a.append(t[0]))});const w={},y={};let o=0;Object.keys(d).forEach(n=>{d[n].forEach(t=>{t.sorter!==void 0&&(y[o]={sorter:"text"},w[o]=t.sorter),o+=1})}),a.tablesorter({selectorHeaders:"> thead > tr:nth-child(2) > th",headers:y,textSorter:w})}function Ce(){const a=[],s=ne();s==="None"?a.push(o=>o.spoiler==="None"):s==="Spoiler"&&a.push(o=>o.spoiler!=="Redacted");const r=e("#name").val().toLowerCase();r.length>1?a.push(o=>{const n=o.name.toLowerCase();return Ie(n).includes(r)||n.includes(r)}):r.length>0&&a.push(o=>o.name.toLowerCase().includes(r));const d=e("#effect").val().toLowerCase();d.length>0&&a.push(o=>{var n,c;return(n=o.effect)!=null&&n.toLowerCase().includes(d)?!0:!!((c=o.description)!=null&&c.toLowerCase().includes(d))});let p=e("#rating").val();if(p.length>0){const o=p.slice(-1)==="+",n=p.slice(-1)==="-";p=p.replace("+","").replace("-","");let c;p.slice(-1)==="*"?c=parseFloat(p.slice(0,p.lastIndexOf("*")))+.5:c=parseFloat(p),o?a.push(t=>t.rating>=c):n?a.push(t=>t.rating<=c):p==="*"?a.push(t=>t.ratingString.includes("*")):a.push(t=>t.rating==c)}let l=e("#size").val();if(l.length>0){const o=l.slice(-1)==="+",n=l.slice(-1)==="-";l=l.replace("+","").replace("-","");const c=parseInt(l);o?a.push(t=>t.size>=c):n?a.push(t=>t.size<=c):a.push(t=>t.size==c)}let u=e("#mass").val();if(u.length>0){const o=u.slice(-1)==="+",n=u.slice(-1)==="-";u=u.replace("+","").replace("-","");const c=parseInt(u);o?a.push(t=>t.mass!==void 0&&t.mass>=c):n?a.push(t=>t.mass!==void 0&&t.mass<=c):a.push(t=>t.mass!==void 0&&t.mass==c)}const g=e("#depth").val();if(g.length>0){const o=Math.abs(parseInt(g));if(!Number.isNaN(o)){const n=X[z(e("#schematicsContainer"))],c=10-o+n;a.push(t=>t.hackable?c>=Math.ceil(t.rating):!1)}}const v=z(e("#slotsContainer"));if(v in R){const o=R[v];a.push(n=>n.slot===o)}const w=z(e('#typeFilters > div:not(".not-visible")'));if(w in M){const o=M[w];a.push(n=>n.type===o)}const y=z(e("#categoryContainer"));if(D.has(y)){const o=D.get(y);a.push(n=>n.categories.includes(o))}return o=>a.every(n=>n(o))}function re(){const a=z(e("#modeContainer"));return a==="modeComparison"?"Comparison":a==="modeSpreadsheet"?"Spreadsheet":a==="modeGallery"?"Gallery":"Simple"}async function ke(){try{await Ne(Ge,void 0)}catch(s){console.log(s)}De("Parts",e("#headerContainer")),B(e("#modeContainer")),Ae(e(document)),be(),Se(),te(),le(),pe(),ae(),e("#spoilers").text(ne()),je().observe(),e("#spoilerDropdown > button").on("click",s=>{const r=e(s.target).text();e("#spoilers").text(r),He(r),e("#spoilerDropdown > button").tooltip("hide"),le(),E()}),e("#name").on("input",E),e("#effect").on("input",E),e("#modeContainer > label > input").on("change",s=>{e(s.target).parent().tooltip("hide"),te(),E()}),e("#depth").on("input",E),e("#rating").on("input",E),e("#size").on("input",E),e("#mass").on("input",E),e("#reset").on("click",()=>{e("#reset").tooltip("hide"),pe()}),e("#slotsContainer > label > input").on("change",()=>{te(),ue(),E()}),e("#schematicsContainer > label > input").on("change",E),e("#powerTypeContainer > label > input").on("change",E),e("#propTypeContainer > label > input").on("change",E),e("#utilTypeContainer > label > input").on("change",E),e("#weaponTypeContainer > label > input").on("change",E),e("#categoryContainer > label > input").on("change",s=>{e(s.target).parent().tooltip("hide"),E()}),e("#sortingContainer > div > button").on("click",()=>{e('[data-toggle="popover"]').popover("hide")}),e("#primarySortDropdown > button").on("click",s=>{const r=e(s.target).text();e("#primarySort").text(r),r==="Alphabetical"||r==="Gallery"?(e("#secondarySort").text("None"),e("#secondarySortDirection").text("Ascending")):(e("#secondarySort").text("Alphabetical"),e("#secondarySortDirection").text("Ascending")),E()}),e("#primarySortDirectionDropdown > button").on("click",s=>{e("#primarySortDirection").text(e(s.target).text()),E()}),e("#secondarySortDropdown > button").on("click",s=>{e("#secondarySort").text(e(s.target).text()),E()}),e("#secondarySortDirectionDropdown > button").on("click",s=>{e("#secondarySortDirection").text(e(s.target).text()),E()}),e("#leftPartSelect").on("changed.bs.select",()=>{ae()}),e("#rightPartSelect").on("changed.bs.select",()=>{ae()}),e("#comparisonSwap").on("click",()=>{const s=e("#leftPartSelect"),r=e("#rightPartSelect"),d=s.selectpicker("val"),p=r.selectpicker("val");s.selectpicker("val",p),r.selectpicker("val",d)}),e(window).on("click",s=>{const r=e(s.target).parents(".popover").length!=0,d=e(s.target).parents("[data-toggle='popover']").length!=0;if(r){e(s.target).trigger("blur");return}let p=s.target;d&&(p=e(s.target).parents("[data-toggle='popover']")[0]),e(".popover").length>=1&&e("[data-toggle='popover']").not(p).popover("hide")}),e("#leftPartSelectContainer > div").addClass("part-dropdown"),e("#leftPartSelectContainer > div > .dropdown-menu").addClass("part-dropdown-menu"),e("#rightPartSelectContainer > div").addClass("part-dropdown"),e("#rightPartSelectContainer > div > .dropdown-menu").addClass("part-dropdown-menu"),e(".btn-light").removeClass("btn-light"),e('[data-toggle="tooltip"]').tooltip()}function pe(){e("#name").val(""),e("#effect").val(""),e("#depth").val(""),e("#rating").val(""),e("#size").val(""),e("#mass").val(""),B(e("#schematicsContainer")),B(e("#slotsContainer")),B(e("#powerTypeContainer")),B(e("#propTypeContainer")),B(e("#utilTypeContainer")),B(e("#weaponTypeContainer")),B(e("#categoryContainer")),e("#primarySort").text("Alphabetical"),e("#primarySortDirection").text("Ascending"),e("#secondarySort").text("None"),e("#secondarySortDirection").text("Ascending"),ue(),E()}function we(a){const s={Alphabetical:{key:"name",sort:q},Gallery:{key:"name",sort:ge},Rating:{key:"rating",sort:f},Size:{key:"size",sort:f},Mass:{key:"mass",sort:f},Integrity:{key:"integrity",sort:f},Coverage:{key:"coverage",sort:f},Arc:{key:"arc",sort:f},Critical:{key:"criticalString",sort:ce},Damage:{keys:["damage","explosionDamage"],sort:Y},Delay:{key:"delay",sort:f},Disruption:{keys:["disruption","explosionDisruption"],sort:f},Drag:{key:"drag",sort:f},"Energy/Move":{key:"energyPerMove",sort:f},"Energy Generation":{key:"energyGeneration",sort:f},"Energy Storage":{key:"energyStorage",sort:f},"Energy Upkeep":{key:"energyUpkeep",sort:f},"Explosion Radius":{key:"explosionRadius",sort:f},Falloff:{key:"falloff",sort:f},"Heat/Move":{key:"heatPerMove",sort:f},"Heat Generation":{key:"heatGeneration",sort:f},"Heat Transfer":{keys:["heatTransfer","explosionHeatTransfer"],sort:$},"Matter Upkeep":{key:"matterUpkeep",sort:f},Penalty:{key:"penalty",sort:f},"Projectile Count":{key:"projectileCount",sort:f},Range:{key:"range",sort:f},Recoil:{key:"recoil",sort:f},Salvage:{keys:["salvage","explosionSalvage"],sort:f},"Shot Energy":{key:"shotEnergy",sort:f},"Shot Heat":{key:"shotHeat",sort:f},"Shot Matter":{key:"shotMatter",sort:f},Spectrum:{keys:["spectrum","explosionSpectrum"],sort:ee},Support:{key:"support",sort:f},Targeting:{key:"targeting",sort:f},"Time/Move":{key:"timePerMove",sort:f},Waypoints:{key:"waypoints",sort:f}},r=re();if(r==="Comparison")return a;const d=r==="Spreadsheet",p=d?s.Gallery:s[e("#primarySort").text()],l="key"in p?[p.key]:p.keys,u=p.sort;if(a.sort((t,i)=>{const m=j(t),h=j(i),C=l.find(b=>b in m&&m[b]!==void 0),k=l.find(b=>b in h&&h[b]!==void 0);return u(m[C],h[k])}),d)return a;e("#primarySortDirection").text().trim()==="Descending"&&a.reverse();const g=s[e("#secondarySort").text()];if(g===void 0)return a;const v="key"in g?[g.key]:g.keys,w=g.sort,y={},o=[];a.forEach(t=>{const i=j(t),m=l.find(C=>C in i&&i[C]!==void 0),h=i[m];h in y?y[h].push(t):(y[h]=[t],o.push(h))}),o.forEach(t=>{y[t].sort((m,h)=>{const C=j(m),k=j(h),b=v.find(T=>T in C),H=v.find(T=>T in k);return w(C[b],k[H])})});const n=e("#secondarySortDirection").text().trim()==="Descending";let c=[];return o.forEach(t=>{n&&y[t].reverse(),c=c.concat(y[t])}),c}function le(){const a=ne();function s(d){e(`#${d}`).addClass("not-visible")}function r(d){e(`#${d}`).removeClass("not-visible")}switch(a){case"None":W.forEach(s),V.forEach(s);break;case"Spoiler":W.forEach(r),V.forEach(s);break;case"Redacted":W.forEach(r),V.forEach(r);break}}function ae(){const a=e("#leftPartInfoContainer"),s=e("#leftPartSelect").selectpicker("val"),r=e("#rightPartInfoContainer"),d=e("#rightPartSelect").selectpicker("val"),p=e("#comparisonInfoContainer");a.empty(),p.empty(),r.empty();const l=j(s),u=j(d);a.append(_(l)),p.append(ve(l,u)),r.append(_(u))}const oe=new Map([["Comparison",["#comparisonContainer"]],["Gallery",["#galleryGrid, #sortingContainer"]],["Simple",["#sortingContainer","#simpleItemsGrid"]],["Spreadsheet",["#spreadsheetItemsTable","#spreadsheetSlotRequiredLabel"]]]);function E(){function a(g){const v=new Set(g);[e("#leftPartSelect"),e("#rightPartSelect")].forEach(y=>{y.children().each((o,n)=>{const c=e(n).val();v.has(c)?e(n).removeClass("not-visible"):e(n).addClass("not-visible")}),ye(y)})}function s(g){e("#galleryGrid > button").addClass("not-visible");let v=null;g.forEach(w=>{const y=S[w];Ee.has(w)||(y.removeClass("not-visible"),v==null?e("#galleryGrid").append(y):y.insertAfter(v),v=y)})}function r(g){if(e("#spreadsheetItemsTable > tbody > tr").addClass("not-visible"),!(z(e("#slotsContainer"))in R)){e("#spreadsheetItemsTable").addClass("not-visible");return}e("#spreadsheetSlotRequiredLabel").addClass("not-visible"),Object.keys(x).forEach(w=>{x[w].addClass("not-visible")}),g.forEach(w=>{x[w].removeClass("not-visible")})}function d(g){e("#simpleItemsGrid > button").addClass("not-visible");let v=null;g.forEach(w=>{const y=N[w];y.removeClass("not-visible"),v==null?e("#simpleItemsGrid").append(y):y.insertAfter(v),v=y})}e('[data-toggle="popover"]').popover("hide");const p=Ce();let l=[];Object.keys(F).forEach(g=>{const v=j(g);p(v)&&l.push(v.name)}),l=we(l);const u=re();for(const g of oe.keys())for(const v of oe.get(g))e(v).addClass("not-visible");for(const g of oe.get(u))e(g).removeClass("not-visible");u==="Simple"?d(l):u==="Comparison"?a(l):u==="Spreadsheet"?r(l):u==="Gallery"&&s(l)}function ue(){Object.keys(A).forEach(s=>e(`#${A[s]}`).addClass("not-visible"));const a=z(e("#slotsContainer"));a in A&&e(`#${A[a]}`).removeClass("not-visible")}});
