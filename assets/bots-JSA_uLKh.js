import{i as W,b,g as Z,n as q,c as K,l as z,p as L}from"./common-H5yCEHFv.js";/* empty css              */import{j as J,c as Q,r as O,a as U,s as X,g as S,e as Y,b as k}from"./commonJquery-ck9jfn5Y.js";import"./jquery.tablesorter.combined-7Cj87s_H.js";import{b as _}from"./bots-t-eGkHsJ.js";import{i as $}from"./items-QxHqxA7B.js";const ee=J.noConflict();ee(function(e){const N={},v={},w={faction0b10:"0b10",factionArchitect:"Architect",factionDerelict:"Derelict",factionExile:"Exiles",factionWarlord:"Warlord",factionZionite:"Zionite"},I=/\((\d*)/;function V(t,r){const s=L(I.exec(t)[1],0),o=L(I.exec(r)[1],0);return s-o}function j(t,r){function s(p){if(typeof p!="string"||p==="")return 0;const n=p.split("~").map(a=>a.trim()).map(a=>parseInt(a));return n.reduce((a,g)=>a+g,0)/n.length}const o=s(t),i=s(r);return o-i}const R={Overview:[{name:"Name"},{name:"Class"},{name:"Size"},{name:"Profile"},{name:"Rating"},{name:"Tier"},{name:"Threat"},{name:"Value"},{name:"Energy Generation",propertyName:"energyGeneration"},{name:"Heat Dissipation",propertyName:"heatDissipation"},{name:"Visual Range",propertyName:"visualRange"},{name:"Memory"},{name:"Spot %",propertyName:"spotPercent"},{name:"Movement",sorter:V},{name:"Core Integrity",propertyName:"coreIntegrity"},{name:"Core Exposure",propertyName:"coreExposure"},{name:"Salvage Potential",propertyName:"salvagePotential",sorter:j}],Parts:[{name:"Armament",propertyName:"armamentString"},{name:"Components",propertyName:"componentsString"}],Resistances:[{name:"Electromagnetic",propertyNames:["resistances","Electromagnetic"]},{name:"Explosive",propertyNames:["resistances","Explosive"]},{name:"Impact",propertyNames:["resistances","Impact"]},{name:"Kinetic",propertyNames:["resistances","Kinetic"]},{name:"Piercing",propertyNames:["resistances","Piercing"]},{name:"Slashing",propertyNames:["resistances","Slashing"]},{name:"Thermal",propertyNames:["resistances","Thermal"]}],Other:[{name:"Immunities",propertyName:"immunitiesString"},{name:"Traits",propertyName:"traitsString"}]},y=["factionWarlord","factionZionite"],C=["factionArchitect"];e(()=>F());function T(){const t=e("#botsGrid");x(Object.keys(b)).forEach(o=>{const i=b[o],p=q(o),n=e(`<button
                    id="${p}"
                    class="item btn"
                    data-html=true
                    data-content='${K(i,S())}'
                    data-toggle="popover">
                    ${o}
                 </button>`);N[o]=n,t.append(n[0])});const s=e('#botsGrid > [data-toggle="popover"]');s.popover(),Y(s)}function G(){const t=e("#spreadsheetBotsTable"),r=R,s=e("<thead></thead>"),o=e("<tr></tr>");s.append(o[0]),t.append(s[0]),Object.keys(r).forEach(l=>{o.append(`<th colspan=${r[l].length}>${l}</th>`)});const i=e("<tr></tr>");s.append(i[0]),Object.keys(r).forEach(l=>{r[l].forEach(f=>{const m=f.name==="Name";i.append(`<th ${m?'class="sorter-text"':""}>${f.name}</th>`)})});const p=e("<tbody></tbody>");t.append(p[0]),x(Object.keys(b)).forEach(l=>{const f=b[l],m=e("<tr></tr>");Object.keys(r).forEach(H=>{r[H].forEach(h=>{let d;if(h.propertyName!==void 0)d=f[h.propertyName];else if(h.propertyNames!==void 0){d=f[h.propertyNames[0]];for(let E=1;E<h.propertyNames.length;E++)d!==void 0&&(d=d[h.propertyNames[E]])}else d=f[h.name.toLowerCase()];const M=d===void 0?"":d.toString();m.append(`<td>${M}</td>`)})}),v[l]=m,t.append(m[0])});const a={},g={};let c=0;Object.keys(r).forEach(l=>{r[l].forEach(m=>{m.sorter!==void 0&&(g[c]={sorter:"text"},a[c]=m.sorter),c+=1})}),t.tablesorter({selectorHeaders:"> thead > tr:nth-child(2) > th",headers:g,textSorter:a}),t.find(".tablesorter-headerAsc").trigger("sort"),t.find(".tablesorter-headerDesc").trigger("sort")}function P(){const t=[],r=S();r==="None"?t.push(n=>n.spoiler==="None"):r==="Spoiler"&&t.push(n=>n.spoiler!=="Redacted");const s=e("#name").val().toLowerCase();s.length>1?t.push(n=>{const a=n.name.toLowerCase();return z(a).includes(s)||a.includes(s)}):s.length>0&&t.push(n=>n.name.toLowerCase().includes(s));const o=e("#class").val().toLowerCase();o.length>0&&t.push(n=>n.class.toLowerCase().includes(o));const i=e("#part").val().toLowerCase();i.length>0&&t.push(n=>{if(n.armamentData.map(a=>a.name).some(a=>a.toLowerCase().includes(i))||n.componentData.map(a=>a.name).some(a=>a.toLowerCase().includes(i)))return!0;for(let a=0;a<n.armamentOptionData.length;a++)if(n.armamentOptionData[a].map(c=>c.name).some(c=>c.toLowerCase().includes(i)))return!0;for(let a=0;a<n.componentOptionData.length;a++)if(n.componentOptionData[a].map(c=>c.name).some(c=>c.toLowerCase().includes(i)))return!0;return!1});const p=k(e("#factionContainer"));if(p in w){const n=w[p];t.push(a=>a.categories.includes(n))}return n=>t.every(a=>a(n))}function A(){return k(e("#modeContainer"))==="modeSpreadsheet"?"Spreadsheet":"Simple"}async function F(){await W($,_),T(),Q("Bots",e("#headerContainer")),O(e("#modeContainer")),U(e(document)),B(),D(),G(),e("#spoilerDropdown > button").on("click",t=>{const r=e(t.target).text();e("#spoilers").text(r),X(r),e("#spoilerDropdown > button").tooltip("hide"),B(),u()}),e("#name").on("input",u),e("#class").on("input",u),e("#part").on("input",u),e("#modeContainer > label > input").on("change",t=>{e(t.target).parent().tooltip("hide"),u()}),e("#reset").on("click",()=>{e("#reset").tooltip("hide"),D()}),e("#factionContainer > label > input").on("change",u),e(window).on("click",t=>{e(t.target).parents(".popover").length===0&&e(".popover").length>=1?e('[data-toggle="popover"]').not(t.target).popover("hide"):e(t.target).parents(".popover").length===1&&e(".popover").length>1&&e(t.target).parents(".popover").find(".bot-popover-item").not(t.target).not(e(t.target).parents()).popover("hide")}),e('[data-toggle="tooltip"]').tooltip()}function D(){e("#name").val(""),e("#class").val(""),e("#part").val(""),O(e("#factionContainer")),u()}function x(t){return t.sort((r,s)=>r.localeCompare(s)),t}function u(){e('[data-toggle="popover"]').popover("hide");const t=P(),r=[];Object.keys(b).forEach(o=>{const i=Z(o);t(i)&&r.push(i.name)});const s=A();s=="Spreadsheet"?(e("#botsGrid").addClass("not-visible"),e("#spreadsheetBotsTable").removeClass("not-visible"),Object.keys(v).forEach(o=>{v[o].addClass("not-visible")}),r.forEach(o=>{v[o].removeClass("not-visible")})):s=="Simple"&&(e("#botsGrid").removeClass("not-visible"),e("#spreadsheetBotsTable").addClass("not-visible"),e("#botsGrid > button").addClass("not-visible"),r.forEach(o=>{N[o].removeClass("not-visible")}))}function B(){const t=S();t==="Spoiler"?(y.forEach(o=>e(`#${o}`).removeClass("not-visible")),C.forEach(o=>e(`#${o}`).addClass("not-visible"))):t==="Redacted"?(y.forEach(o=>e(`#${o}`).removeClass("not-visible")),C.forEach(o=>e(`#${o}`).removeClass("not-visible"))):(y.forEach(o=>e(`#${o}`).addClass("not-visible")),C.forEach(o=>e(`#${o}`).addClass("not-visible")))}});
